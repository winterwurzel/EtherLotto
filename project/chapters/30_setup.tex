%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Setup}\label{chap:setup}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapterstart

This explains how to setup and run the EthereLotto \ac{DApp} on any Linux/Unix device.
Prerequistes:
\begin{itemize}
    \item A Linux/Unix shell (tested on MacOS x 10.11 and Arch Linux)
    \item Node package manager \citetitle{npm}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Local Test Setup}\label{sec:local}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

To install the \citetitle{truffle} and \citetitle{angularMaterial} dependencies, load the project and install project dependencies.
\begin{lstlisting}[language=bash]
$ sudo npm install -g truffle
$ sudo npm install -g @angular/cli
$ git clone https://github.com/winterwurzel/EtherLotto.git && cd etherlotto_v2
$ npm install
\end{lstlisting}

To run the \ac{DApp}, a local Ethereum Testnetwork is needed. While \citetitle{truffle} comes with a test network, \citetitle{ganache} is the preferred way to provide it.

Either start the \citetitle{truffle} test network with \lstinline{truffle develop} or simply run \citetitle{ganache} (preferred).

Additionally the Browser Extension \citetitle{metamask} is needed.
Install and configure \citetitle{metamask} to use the local test network (and port 7545) and import the first account through the Mnemonic specified in \lstinline{truffle develop} or \citetitle{ganache}.
Additional Accounts can be import through their private keys. 

Now the \ac{DApp} can be started and will be available in a browser at http://localhost:4200/.
\begin{lstlisting}[language=bash]
$ cd etherlotto_v2
$ truffle compile
$ truffle migrate
$ ng serve
\end{lstlisting}


\chapterend

